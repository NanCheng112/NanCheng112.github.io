---
title: 遥感图像处理-感兴趣目标及对象提取
date: 2025-8-27 14:47:00
updated: 2025-8-27 14:47:00
tags:
    - 遥感
    - 图像处理
categories:
    - 遥感概论
katex: true
---

# **感兴趣目标及对象提取**
图像感兴趣目标提取一般是先对图像做分割得到二值图像，后对二值图像进行预处理（如填补目标区域的空洞点，连接细碎边缘等）。预处理后的二值图像有两个用处：一是可以排除不需要做进一步分析的背景区域；二是可用于遥感图像中的对象提取，从而提取出感兴趣的目标区域或其边界轮廓。    

## **图像分割**
图像分割（$image\ segmentation$）指从图像中将某个特定区域与其他部分进行分离并提取出来的处理，也称图像的二值化处理。方法主要有四大类：阈值法、边界分割法、区域提取法和形态学分水岭分割。

### **阈值法**
阈值法是应用最广泛的图像分割方法，其利用图像中目标地物与背景在灰度分布上的差异通过设定阈值实现图像分割。设原图像为$f(x,y)$，经过分割处理后的图像为$g(x,y)$，则有：
$$g(x,y)=1 , f(x,y) \geq T $$
$$g(x,y)=0 ,f(x,y) < T$$
其中$T$为阈值。阈值法计算简单、计算量小、性能较稳定，适用于目标和背景占据不同灰度级的范围的图像。其核心是阈值的最优选择，可以根据整幅图像的信息进行选取也可以根据局部区域进行选取。

#### **全局阈值**
对于灰度直方图有明显峰谷的图像可以直接通过查看图像的灰度直方图获得阈值，而相对的对于没有这一特征的图像需要采用一些方法自动搜索最佳阈值，有均匀性度量法、最大类间距离法、最大类间方差法、最大熵法。
* 均匀性度量法：在最优阈值处，目标和背景对应的灰度像元分布应该最为均匀，整幅灰度图像的均匀性度量可以表示为下式，其中$p_1$与$p_2$分别是目标和背景像元的分布概率；$\sigma_1$与$\sigma_2$分别是目标和背景的灰度像元标准差，不断迭代阈值，当$H$最小时为最佳阈值：
$$H=p_1 \sigma_1^2 + p_2 \sigma_2^2$$

* 最大类间距离法：在最优阈值处，图像分割后前景和背景两个类别间的差异应该达到最大。两个类别之间相对距离差$D$公式如下，其中$\mu_1$和$\mu_2$分别为阈值为$T$时目标和背景对应的灰度像元均值，当$D$值最大时为最优的$T$值：
$$D=\frac{|(T-\mu_1)(T-\mu_2)|}{(\mu_2-\mu_1)^2}$$

* 最大类间方差法：在最优阈值处，图像分割后目标和背景之间的方差最大，其中$p_1$与$p_2$分别是目标和背景像元的分布概率，其中$\mu_1$和$\mu_2$分别为阈值为$T$时目标和背景对应的灰度像元均值，$\mu$为整幅图像的灰度均值：
$$G=p_1(\mu_1-\mu)^2+p_2(\mu_2-\mu)^2$$

* 最大熵法：在最优阈值处，图像中信息量最大，目标和背景的平均相对熵计算如下，其中$v_{min}$和$v_{max}$为图像灰度的最小值和最大值，$p_i$为值为$i$的像元分布概率，$p_T$为图像从$v_{min}$到$T$的累计分布概率，两者和最大时为最优阈值处：
$$E_1=-\sum_{i=v_{min}}^T(p_i/p_T)ln(p_i/p_T)$$
$$E_2=-\sum_{i=T+1}^{v_{max}}(p_i/(1-p_T))ln(p_i/(1-p_T))$$

#### **局部自适应阈值**
全局阈值对于一些图像（如所受光照不均匀）不能取得理想的效果，可以将整幅图像划分为若干子区域分别采用不同的阈值进行分割，选取阈值的方法与全局阈值法中相同。

### **边界分割法**
基于边界的分割方法是利用不同区域间像元灰度不连续的特点检测出区域间的边缘从而实现图像分割。    

图像边缘是指图像局部区域亮度变化显著的部分，该区域的灰度剖面一般可看做是一个阶跃，即灰度值在很小的局部范围内急剧变化到另一个相差较大的灰度值，与边缘不同，边界是具有相同灰度值的最大连通域的外廓线，边界是孤立且闭合的，它由边缘连接而成。

#### **边缘检测**
* 基于微分算子的边缘检测：与图像增强中相同。

* 综合边缘检测：  
① 拉普拉斯算子在检测边缘时对噪点非常敏感，针对这一问题，结合高斯滤波和拉普拉斯算子得到$LoG$算子，主要思想为先采用高斯滤波对图像平滑处理，再进行拉普拉斯运算增强图像边缘，最后检测边缘。   
② 基于微分算子的边缘检测下，不同的阈值会得到不同的边缘信息，针对如何选取合适的阈值，提出$Canny$算子，其认为优良的边缘检测应具有三个特性：检测性能好不漏检不误检，使输出信噪比最大；定位信号好，检测到的边缘点与实际边缘点最近；唯一性，对于单个边缘点仅有一个响应。（具体操作见实操）

* 基于形态学梯度的边缘检测：与图像增强中相同。

#### **边缘连接**
边缘检测算子经常得到不连续的边缘，而我们感兴趣的目标往往是连续的边缘或者边界，故需要将这些不连续的边缘连接为连续边缘或闭合边界。边缘连接的方式有很多，其中哈夫变换使一种常用的基于全局信息的边缘连接方法。

哈夫变换是一种对图像中已知形状曲线进行检测的方法，其设计思想是在图像空间和参数空间建立一种点-线的对偶关系，通过对参数空间上参数分布情况对已知形状曲线进行检测。例如用极坐标方程检测直线，图像空间中的直线对应的是$\rho$-$\theta$空间中两条曲线的交点，这时在图像空间中检测直线即在$\rho$-$\theta$空间中寻找通过曲线数最多的点。    

![图片1](https://github.com/NanCheng112/NanCheng112.github.io/blob/hexo/source/_posts/remote_sensing/pic_pro-8.jpg?raw=true)         

### **区域提取法**
区域提取方法是根据区域的特性将该区域从图像中分割出来，这类方法的核心是如何对区域的特性进行恰当的描述，以及如何根据特性进行区域分割。该类方法有区域生长法、区域合并分裂法。   

#### **区域生长法**
利用相邻像元之间的相似性将像元扩充到一个区域。首先选取一小块种子区域，后根据生长法则将邻域像元添加至区域作为新的种子，直到无法扩张或者达到设定的终止条件。   

区域生长的好坏取决于种子点的选择、生长准则和终止条件。

#### **区域分裂合并法**
设计思路为若一个大区域的属性不一致，则将区域不断分裂为若干不相交的子区域，直到每个子区域的属性都一致，分裂后若相邻的子区域具有相同的属性则进行合并。该方法的关键在于确定分裂准则和合并准则，通常以区域的某种特征（如灰度、颜色、统计特征等）的均匀性作为准则。例如设置一个灰度方差阈值，如果区域的方差大于阈值，则区域不具有一致性，小于则反之。

### **形态学分水岭分割**
将灰度图像看做地形曲面，灰度值表示高程，每一个局部极小值及其影响的区域称为集水盆，集水盆的边界称为分水岭，分水岭可将图像分割为不同的区域，设置水位可以控制分水岭起作用与否。   

这种方法的最大优点是可以得到封闭的边界，缺点是容易过度分割。

## **二值图像处理**
原图像经过分割后往往得到二值图像，此时感兴趣边缘粗糙且破碎，目标区域也通常含有较多的空洞点，故在表示感兴趣目标区域或提取其边界轮廓之前往往要对空洞点填补、边缘连接、碎块消除等操作。

### **基本概念**
* 四近邻与八近邻：四近邻为像元上下左右四个邻近像元，八近邻包括对角线上的像元。

* 四连通和八连通：四（八）近邻中存在同类像元。连通后形成连通域。

* 内部点和边界点：四近邻中，当前点的八邻近像元中无背景像元则为内部点，反之为边界点；八邻近中，当前点的四近邻像元中无背景像元则为内部点，反之为边界点。

### **空洞点填补和碎块消除**
可通过闭运算进行空洞点填补，利用开运算进行碎块消除，通常开-闭运算一同使用效果更好。

## **对象提取**
遥感图像中的对象指具有相同特征的“同质均一”单元。图像经过二值图像处理后虽然提取了“同质均一”的各目标单元，但还需对各个连通域贴标签进行区分。同时为了便于分析对象的形态特征，还需要将目标单元矢量化以提取各目标单元的封闭轮廓边界。

### **贴标签**
涉及两个关键步骤，一是从左到右从上到下依次扫描值为1的单元格并判断是否与贴过标签像元属于同一个连通域；二是对已贴好的标签进行校正，对连接在一起、贴不同标签的连通域归并为同一标签。

### **边界提取**
通常是对贴标签结果图像进行递归搜索以获得各目标物的边界坐标，再将坐标首尾相连得到闭合的矢量边界。（栅格数据转矢量数据）

> 栅格数据类型较为适合描述目标物的光谱统计特征（最大\小值、平均值、方差等）但不适合描述其形态特征（重心、周长、面积等），为此需要矢量数据。